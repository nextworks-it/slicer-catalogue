{
  "expBlueprint": {
    "ctxBlueprintIds": [
      "{{cb_id}}"
    ],
    "description": "Ares2T tracking service with delay experiment",
    "name": "Ares2T tracking experiment",
    "sites": [
      "ITALY_TURIN"
    ],
    "tcBlueprintIds": [
      "{{tcb_id}}"
    ],
    "version": "1.0",
    "vsBlueprintId": "{{vsb_id}}"
  },
  "nsds": [
    {
      "nsdIdentifier": "ns_ares2t_tracker_delay_exp",
      "designer": "NXW",
      "version": "1.0",
      "nsdName": "ARES2T Tracker experiment",
      "nsdInvariantId": "ns_ares2t_tracker_delay_exp_v1.0",
      "vnfdId": [
		"vnf_Ares2T_Tracker",
                "vnf_Ares2T_Vis",
		"vnf_netem"
      ],
      "sapd": [
     		{
                    "cpdId": "sap_tracking_exp_mobile",
                    "description": "SAP towards mobile equipment",
                    "layerProtocol": "IPV4",
                    "cpRole": "ROOT",
                    "addressData": [
                        {
                            "addressType": "IP_ADDRESS",
                            "iPAddressAssignment": false,
                            "floatingIpActivated": true,
                            "iPAddressType": "IPv4",
                            "numberOfIpAddress": 1
                        }
                    ],
                    "sapAddressAssignment": false,
                    "nsVirtualLinkDescId": "vl_tracking_exp_mobile"
                },
		{
                    "cpdId": "sap_tracking_exp_mgt",
                    "description": "SAP for management",
                    "layerProtocol": "IPV4",
                    "cpRole": "ROOT",
                    "addressData": [
                        {
                            "addressType": "IP_ADDRESS",
                            "iPAddressAssignment": false,
                            "floatingIpActivated": true,
                            "iPAddressType": "IPv4",
                            "numberOfIpAddress": 1
                        }
                    ],
                    "sapAddressAssignment": false,
                    "nsVirtualLinkDescId": "vl_tracking_exp_mgt"
                }
      ],
      "virtualLinkDesc": [
     		{
                    "virtualLinkDescId": "vl_tracking_exp_mobile",
                    "virtualLinkDescProvider": "NXW",
                    "virtuaLinkDescVersion": "1.0",
                    "connectivityType": {
                        "layerProtocol": "IPV4"
                    },
                    "virtualLinkDf": [
                        {
                            "flavourId": "df_vl_tracking_exp_mobile",
                            "qos": {
                                "latency": 0,
                                "packetDelayVariation": 0,
                                "packetLossRatio": 0,
                                "priority": 0
                            },
                            "serviceAvaibilityLevel": "LEVEL_1",
                            "bitrateRequirements": {
                                "root": 2,
                                "leaf": 2
                            }
                        }
                    ],
                    "description": "Network to connect to the mobile user equipment"
                },
		{
                    "virtualLinkDescId": "vl_tracking_exp_mgt",
                    "virtualLinkDescProvider": "NXW",
                    "virtuaLinkDescVersion": "1.0",
                    "connectivityType": {
                        "layerProtocol": "IPV4"
                    },
                    "virtualLinkDf": [
                        {
                            "flavourId": "df_vl_tracking_exp_mgt",
                            "qos": {
                                "latency": 0,
                                "packetDelayVariation": 0,
                                "packetLossRatio": 0,
                                "priority": 0
                            },
                            "serviceAvaibilityLevel": "LEVEL_1",
                            "bitrateRequirements": {
                                "root": 2,
                                "leaf": 2
                            }
                        }
                    ],
                    "description": "Network for management"
                },
		{
                    "virtualLinkDescId": "vl_tracking_exp_in",
                    "virtualLinkDescProvider": "NXW",
                    "virtuaLinkDescVersion": "1.0",
                    "connectivityType": {
                        "layerProtocol": "IPV4"
                    },
                    "virtualLinkDf": [
                        {
                            "flavourId": "df_vl_tracking_exp_in",
                            "qos": {
                                "latency": 0,
                                "packetDelayVariation": 0,
                                "packetLossRatio": 0,
                                "priority": 0
                            },
                            "serviceAvaibilityLevel": "LEVEL_1",
                            "bitrateRequirements": {
                                "root": 2,
                                "leaf": 2
                            }
                        }
                    ],
                    "description": "Network for internal dispatching of incoming traffic"
                },
                {
                    "virtualLinkDescId": "vl_tracking_exp_data",
                    "virtualLinkDescProvider": "NXW",
                    "virtuaLinkDescVersion": "1.0",
                    "connectivityType": {
                        "layerProtocol": "IPV4"
                    },
                    "virtualLinkDf": [
                        {
                            "flavourId": "df_vl_tracking_exp_data",
                            "qos": {
                                "latency": 0,
                                "packetDelayVariation": 0,
                                "packetLossRatio": 0,
                                "priority": 0
                            },
                            "serviceAvaibilityLevel": "LEVEL_1",
                            "bitrateRequirements": {
                                "root": 2,
                                "leaf": 2
                            }
                        }
                    ],
                    "description": "Internal network to connect the tracking service components"
                }
      ],
      "nsDf": [
        {
          "nsDfId": "ns_Ares2T_Tracking_Exp_df",
          "flavourKey": "ns_Ares2T_Tracking_Exp_df_fk",
          "vnfProfile": [
         	{
                            "vnfProfileId": "vnfp_small_Ares2T_Tracker_exp",
                            "vnfdId": "vnf_Ares2T_Tracker",
                            "flavourId": "vnf_df_Ares2T_Tracker",
                            "instantiationLevel": "vnf_il_small_Ares2T_Tracker",
                            "minNumberOfInstances": 1,
                            "maxNumberOfInstances": 1,
                            "nsVirtualLinkConnectivity": [
                                {
                                    "virtualLinkProfileId": "vlp_vl_tracking_exp_in",
                                    "cpdId": [
                                        "cp_tracker_ext_in"
                                    ]
                                },
                                {
                                    "virtualLinkProfileId": "vlp_vl_tracking_exp_data",
                                    "cpdId": [
                                        "cp_tracker_data"
                                    ]
                                },
	 			{
                                    "virtualLinkProfileId": "vlp_vl_tracking_exp_mgt",
                                    "cpdId": [
                                        "cp_tracker_mgt"
                                    ]
                                }
                            ]
                        },
			{
                            "vnfProfileId": "vnfp_big_Ares2T_Tracker_exp",
                            "vnfdId": "vnf_Ares2T_Tracker",
                            "flavourId": "vnf_df_Ares2T_Tracker",
                            "instantiationLevel": "vnf_il_big_Ares2T_Tracker",
                            "minNumberOfInstances": 1,
                            "maxNumberOfInstances": 1,
                            "nsVirtualLinkConnectivity": [
                                {
                                    "virtualLinkProfileId": "vlp_vl_tracking_exp_in",
                                    "cpdId": [
                                        "cp_tracker_ext_in"
                                    ]
                                },
                                {
                                    "virtualLinkProfileId": "vlp_vl_tracking_exp_data",
                                    "cpdId": [
                                        "cp_tracker_data"
                                    ]
                                },
	 			{
                                    "virtualLinkProfileId": "vlp_vl_tracking_exp_mgt",
                                    "cpdId": [
                                        "cp_tracker_mgt"
                                    ]
                                }
                            ]
                        },
			{
                            "vnfProfileId": "vnfp_Ares2T_Vis_exp",
                            "vnfdId": "vnf_Ares2T_Vis",
                            "flavourId": "vnf_df_Ares2T_Vis",
                            "instantiationLevel": "vnf_il_Ares2T_Vis",
                            "minNumberOfInstances": 1,
                            "maxNumberOfInstances": 1,
                            "nsVirtualLinkConnectivity": [
                                {
                                    "virtualLinkProfileId": "vlp_vl_tracking_exp_data",
                                    "cpdId": [
                                        "cp_vis_data"
                                    ]
                                },
	 			{
                                    "virtualLinkProfileId": "vlp_vl_tracking_exp_mgt",
                                    "cpdId": [
                                        "cp_vis_mgt"
                                    ]
                                }
                            ]
                        },
			{
                            "vnfProfileId": "vnfp_netem_exp",
                            "vnfdId": "vnf_netem",
                            "flavourId": "vnf_df_netem",
                            "instantiationLevel": "vnf_il_netem",
                            "minNumberOfInstances": 1,
                            "maxNumberOfInstances": 1,
                            "nsVirtualLinkConnectivity": [
                                {
                                    "virtualLinkProfileId": "vlp_vl_tracking_exp_in",
                                    "cpdId": [
                                        "cp_dg_traffic_out"
                                    ]
                                },
                                {
                                    "virtualLinkProfileId": "vlp_vl_tracking_exp_mgt",
                                    "cpdId": [
                                        "cp_dg_mgt"
                                    ]
                                },
                                {
                                    "virtualLinkProfileId": "vlp_vl_tracking_exp_mobile",
                                    "cpdId": [
                                        "cp_dg_traffic_in"
                                    ]
                                }
                            ]
                        }
          ],
          "virtualLinkProfile": [
            	{
                            "virtualLinkProfileId": "vlp_vl_tracking_exp_mobile",
                            "virtualLinkDescId": "vl_tracking_exp_mobile",
                            "flavourId": "df_vl_tracking_exp_mobile",
                            "maxBitrateRequirements": {
                                "root": "1",
                                "leaf": "1"
                            },
                            "minBitrateRequirements": {
                                "root": "1",
                                "leaf": "1"
                            }
                },
		{
                            "virtualLinkProfileId": "vlp_vl_tracking_exp_mgt",
                            "virtualLinkDescId": "vl_tracking_exp_mgt",
                            "flavourId": "df_vl_tracking_exp_mgt",
                            "maxBitrateRequirements": {
                                "root": "1",
                                "leaf": "1"
                            },
                            "minBitrateRequirements": {
                                "root": "1",
                                "leaf": "1"
                            }
                },
		{
                            "virtualLinkProfileId": "vlp_vl_tracking_exp_in",
                            "virtualLinkDescId": "vl_tracking_exp_in",
                            "flavourId": "df_vl_tracking_exp_in",
                            "maxBitrateRequirements": {
                                "root": "1",
                                "leaf": "1"
                            },
                            "minBitrateRequirements": {
                                "root": "1",
                                "leaf": "1"
                            }
                },
		{
                            "virtualLinkProfileId": "vlp_vl_tracking_exp_data",
                            "virtualLinkDescId": "vl_tracking_exp_data",
                            "flavourId": "df_vl_tracking_exp_data",
                            "maxBitrateRequirements": {
                                "root": "1",
                                "leaf": "1"
                            },
                            "minBitrateRequirements": {
                                "root": "1",
                                "leaf": "1"
                            }
                }
          ],
          "nsInstantiationLevel": [
            {
              "nsLevelId": "ns_ares2t_tracker_exp_il_big",
              "description": "Big instantiation level for the ARES2T tracking experiment",
              "vnfToLevelMapping": [
               			{
                                    "vnfProfileId": "vnfp_big_Ares2T_Tracker_exp",
                                    "numberOfInstances": 1
                                },
				{
                                    "vnfProfileId": "vnfp_Ares2T_Vis_exp",
                                    "numberOfInstances": 1
                                },
				{
                                    "vnfProfileId": "vnfp_netem_exp",
                                    "numberOfInstances": 1
                                }
              ],
              "virtualLinkToLevelMapping": [
                	{
                                    "virtualLinkProfileId": "vlp_vl_tracking_exp_mobile",
                                    "bitRateRequirements": {
                                        "root": "1",
                                        "leaf": "1"
                                    }
                        },{
                                    "virtualLinkProfileId": "vlp_vl_tracking_exp_mgt",
                                    "bitRateRequirements": {
                                        "root": "1",
                                        "leaf": "1"
                                    }
                        },{
                                    "virtualLinkProfileId": "vlp_vl_tracking_exp_in",
                                    "bitRateRequirements": {
                                        "root": "1",
                                        "leaf": "1"
                                    }
                        },{
                                    "virtualLinkProfileId": "vlp_vl_tracking_exp_data",
                                    "bitRateRequirements": {
                                        "root": "1",
                                        "leaf": "1"
                                    }
                        }
              ]
            },{
              "nsLevelId": "ns_ares2t_tracker_exp_il_small",
              "description": "Small instantiation level for the ARES2T tracking experiment",
              "vnfToLevelMapping": [
               			{
                                    "vnfProfileId": "vnfp_small_Ares2T_Tracker_exp",
                                    "numberOfInstances": 1
                                },
				{
                                    "vnfProfileId": "vnfp_Ares2T_Vis_exp",
                                    "numberOfInstances": 1
                                },
				{
                                    "vnfProfileId": "vnfp_netem_exp",
                                    "numberOfInstances": 1
                                }
              ],
              "virtualLinkToLevelMapping": [
                	{
                                    "virtualLinkProfileId": "vlp_vl_tracking_exp_mobile",
                                    "bitRateRequirements": {
                                        "root": "1",
                                        "leaf": "1"
                                    }
                        },{
                                    "virtualLinkProfileId": "vlp_vl_tracking_exp_mgt",
                                    "bitRateRequirements": {
                                        "root": "1",
                                        "leaf": "1"
                                    }
                        },{
                                    "virtualLinkProfileId": "vlp_vl_tracking_exp_in",
                                    "bitRateRequirements": {
                                        "root": "1",
                                        "leaf": "1"
                                    }
                        },{
                                    "virtualLinkProfileId": "vlp_vl_tracking_exp_data",
                                    "bitRateRequirements": {
                                        "root": "1",
                                        "leaf": "1"
                                    }
                        }
              ]
            }
          ],
          "defaultNsInstantiationLevelId": "ns_ares2t_tracker_exp_il_small",
          "dependencies": []
        }
      ],
      "security": {
        "signature": "NSD_SIGNATURE",
        "algorithm": "NSD_ALGORITHM",
        "certificate": "NSD_CERTIFICATE"
      }
    }
  ],
  "translationRules": [
    {
      "nsdId": "ns_ares2t_tracker_delay_exp",
      "nsdVersion": "1.0",
      "nsFlavourId": "ns_Ares2T_Tracking_Exp_df",
      "nsInstantiationLevelId": "ns_ares2t_tracker_exp_il_small",
      "input": [
                {
                    "parameterId": "number_of_tracked_devices",
                    "minValue": "1",
                    "maxValue": "100"
                }
            ]
    },
    {
      "nsdId": "ns_ares2t_tracker_delay_exp",
      "nsdVersion": "1.0",
      "nsFlavourId": "ns_Ares2T_Tracking_Exp_df",
      "nsInstantiationLevelId": "ns_ares2t_tracker_exp_il_big",
      "input": [
                {
                    "parameterId": "number_of_tracked_devices",
                    "minValue": "101",
                    "maxValue": "1000"
                }
            ]
    }
  ]
}
